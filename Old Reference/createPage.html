<!DOCTYPE html>
<html>
	<title>Content Builder</title>
	<head>
		
		
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<meta http-equiv="cache-control" content="max-age=0" />
<meta http-equiv="cache-control" content="no-cache" />
<meta http-equiv="expires" content="0" />
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
<meta http-equiv="pragma" content="no-cache" />

	<!--
		<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
		<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
	-->
		<script src="Engine.js"></script>
		<script src="gs/gsAPI.js"></script>
		<script type="text/javascript" src="gs/gamesparks.js"></script>
		<script type="text/javascript" src="gs/gamesparks-functions.js"></script>
		<script type="text/javascript" src="gs/hmac-sha256.js"></script>
		<script src="jquery.js"></script>
		<script src="jqueryUI.js"></script>
		<link type="text/css" href="Style.css?version=1" rel="stylesheet" type="text/css" media="all" />
		<link href='http://fonts.googleapis.com/css?family=The+Girl+Next+Door' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Voltaire' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Michroma' rel='stylesheet' type='text/css'>
		
		<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Crafty+Girls|Noto+Sans:400,700,400italic,700italic|Lato:400,900,400italic,900italic|Asset|Poiret+One|Armata|Arimo:400,700,400italic,700italic|Emblema+One|Limelight|Vollkorn:400italic,700italic,400,700|Merriweather+Sans:400,400italic,800,800italic|Rock+Salt&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
	 <script>
    $(document).ready(function(){
       // Initialize view
       localStorage.clear();
        Control.page = "createpage";
       console.log("coming from my sites");
      // console.log( "what" + localStorage.siteSelect);
       
      if (localStorage.getItem("siteSelect")){
      	if (localStorage.getItem("oldPage")=="mySites"){
      		fromPage = true;
      		//delete localStorage.oldPage;
      	}
      	else{
      		fromPage = false;
      	}
      	
      	Control.lIn = JSON.parse(localStorage.getItem("lIn"));
        Control.sites = JSON.parse(localStorage.getItem("sites"));
        currentSite = localStorage.getItem("siteSelect");
        siteCount = localStorage.getItem("siteCount");

        console.log("passed");
        if (localStorage.getItem("siteSelect") == "addNewSite"){
        	siteCount = Control.sites["siteCount"] + 1;
        	console.log("site count "+siteCount)
			currentSite = "Site"+siteCount;
			currentBlock = "block0";
			blockCount = 0;
			$('.preBlock').show();
			$('.blockList').empty();
			$('.previewContainer').html('<iframe id="prev" src="./templates/blankTemplate/index.html" width="100%" height="100%"></iframe>');
        }
      }
      else{
      	Control.cleanLogin();
      	 console.log("not")
      }
       
       
     //  console.log(Control.sites);
     //   console.log(Control.lIn);
     init();
     
     Control.screenSlide();
    
    // $('.addContent').hide();
     $('.addDetails').hide();
     $('.textContent').hide();
     $('.videoContent').hide();
     $('.audioContent').hide();
     $('.facebookContent').hide();
     $('.twitterContent').hide();
     $('.imageContent').hide();
     $('.addBG').hide();
     $('.selectDesign').remove();
     $('.selectColor').remove();
    // $('.preBlock').hide();
     if (currentBlock == "block0"){
     	$('.preBlock').show();
     }
     else{
     	$('.preBlock').hide();
     }
     
    if (gsAPI.loggedIn){
    	$('.logInOut').html ("Log Out");
    }
    else{
    	$('.logInOut').html ("Login / Signup");
    }
    $('.signUp').hide();
       $('.signUpBG').hide();
    });
     </script>
     </head>
     <body>
     	<div class="signUpBG logReg"></div>
     	<div class="signUp logReg">
     		<div class="signUpLeft">
     			<div class="signUpLine"></div>
     			<div class="signUpLine">SIGN IN</div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">username:</div><input class="loginUsername" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">password:</div><input type="password" class="loginPassword" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine LoginButton" style="background-color: #000; color: #fff;cursor:pointer;">Login</div>
     		</div>
     		<div class="signUpMid"></div>
     		<div class="signUpRight">
     			<div class="signUpLine"></div>
     			<div class="signUpLine">REGISTER</div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">name:</div><input class="regName" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">username:</div><input class="regUsername" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">email:</div><input class="regEmail" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">password:</div><input type="password" class="regPass" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"><div class="blockTitle" style="width: 30%;">confirm:</div><input type="password" class="regConfirm" style="width: 62%;margin-left:5%;"></div>
     			<div class="signUpLine"></div>
     			<div class="signUpLine RegisterButton" style="background-color: #000; color: #fff; cursor: pointer;">Register</div>
     		</div>
     	</div>
     	
     	<div class="toolbar">
     		<div class="mySites"><div class="mySitesTitle">My Sites</div></div>
     		<div class="mySitesR"><div class="mySitesTitleR">Home</div></div>
     		<div class="logo"><br>CONTENT BUILDER</div>
     		<div class="logInOut">Login / Signup</div>
     	</div>
     	<div class="tabbar"><div class="addBlock">Add Block</div><div class="saveSite">Save Site</div>
     	<div class="loadSite">Load Site</div><div class="deleteSite">Delete Site</div><div class="deleteBlock">Delete Block</div>
     	
     	<div class="blockList"></div></div>
     	
     	<div class="bg"></div>
     	
     	
     	
     	
     	<div class="screenView selectDesign">
     		<div class="colorHeading"><br>Choose Design</div>
     		<div class="colorHolder">
     			<div class="designBlock" id="db1" style="background-image: url(./templates/t1.png);"></div>
     			<div class="designBlock" id="db2" style="background-image: url(./templates/t3.png);"></div>
     			<div class="designBlock" id="db3" style="background-image: url(./templates/t2.png);"></div>
     			<div class="designBlock" id="db4" style="background-image: url(./templates/t2.png);"></div>
     			
     		</div>
     	</div>
     	
     	<div class="screenView addContent">
     		<div class="blockSize" style="font-size: 16px; font-weight: bold;margin-left: 40%;margin-top: 3%">
				<div class="blockTitle blockNameTop">Block Name</div>
			</div>
     		<div class="Block PostInfo">
     			<div class="blockSize"><div class="blockTitle">Page Size: </div><div class="blockTitle" style="width: 15%;">height %:</div><input class="PheightInput">
     			<div class="blockTitle" style="width: 15%;">width %:</div><input class="PwidthInput">
     			</div>
     			<div class="blockSize"><div class="blockTitle">Block Size: </div><div class="blockTitle" style="width: 15%;">height %:</div><input class="heightInput">
     			<div class="blockTitle" style="width: 15%;">width %:</div><input class="widthInput">
     			</div>
			<div class="blockSize"><div class="blockTitle">Bg Color:  </div>
				<div class="colorSelect">
					<div class="colorBlockSmallBG" style="background-color: #000;"></div>
					<div class="colorBlockSmallBG" style="background-color: #404040;"></div>
					<div class="colorBlockSmallBG" style="background-color: #FF0000;"></div>
					<div class="colorBlockSmallBG" style="background-color: #FF6A00;"></div>
					<div class="colorBlockSmallBG" style="background-color: #FFD800;"></div>
					<div class="colorBlockSmallBG" style="background-color: #B6FF00;"></div>
					<div class="colorBlockSmallBG" style="background-color: #4CFF00;"></div>
					<div class="colorBlockSmallBG" style="background-color: #00FF21;"></div>
					<div class="colorBlockSmallBG" style="background-color: #00FF90;"></div>
					<div class="colorBlockSmallBG" style="background-color: #00FFFF;"></div>
					<div class="colorBlockSmallBG" style="background-color: #0094FF;"></div>
					<div class="colorBlockSmallBG" style="background-color: #0026FF;"></div>
					<div class="colorBlockSmallBG" style="background-color: #4800FF;"></div>
					<div class="colorBlockSmallBG" style="background-color: #B200FF;"></div>
					<div class="colorBlockSmallBG" style="background-color: #FF00DC;"></div>
					<div class="colorBlockSmallBG" style="background-color: #FF006E;"></div>
					<div class="colorBlockSmallBG" style="background-color: #fff;"></div>
					<div class="colorBlockSmallBG">X</div>
				</div>
			</div>
			<div class="blockSize">
				<div class="blockTitle">Border-Size: </div><div class="blockTitle" style="width: 15%;">px: </div><input class="borderInput">
			</div>
			<div class="blockSize">
				<div class="blockTitle">Border-Radius: </div><div class="blockTitle" style="width: 15%;">px: </div><input class="borderRInput">
			</div>
			
			<div class="blockSize">
				<div class="blockTitle">Border-Color: </div>
				<div class="colorSelect">
					<div class="colorBlockSmallBorder" style="background-color: #000;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #404040;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #FF0000;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #FF6A00;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #FFD800;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #B6FF00;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #4CFF00;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #00FF21;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #00FF90;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #00FFFF;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #0094FF;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #0026FF;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #4800FF;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #B200FF;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #FF00DC;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #FF006E;"></div>
					<div class="colorBlockSmallBorder" style="background-color: #fff;"></div>
					<div class="colorBlockSmallBorder">X</div>
				</div>
			</div>
			<div class="blockSize">
				<div class="blockTitle">Layer: </div><div class="blockTitle" style="width: 15%;">0 is bg, higher is closer </div><input class="layerInput">
			</div>
			<div class="blockSize">
				<div class="blockTitle">Opacity: </div><div class="blockTitle" style="width: 15%;">0-1 </div><input class="opacityInput">
			</div>
			<div class="blockSize">
				<div class="blockTitle">Grid: </div><div class="blockTitle grid" style="background-color: #000;color:#fff;border-radius: 5px;">No</div>
				<div class="blockTitle" style="width: 15%;">Size</div><input class="gridInput">
			</div>
			<div class="blockSize">
				<div class="blockTitle">Link: </div><div class="blockTitle" style="width: 15%;">make block a link</div><input class="linkInput">
				<div class="blockTitle addLink" style="background-color: #000;color:#fff;border-radius: 5px;">add link</div>
			</div>
			<div class="blockSize"><div class="blockTitle">Content Type: </div>
			<div class="blockTitle contentType" id="textType">text</div><div class="blockTitle contentType" id="imageType">image</div>
			<div class="blockTitle contentType" id="videoType">video</div><div class="blockTitle"></div><div class="blockTitle contentType" id="facebookType">facebook photo album</div>
			<div class="blockTitle contentType" id="twitterType">twitter</div><div class="blockTitle contentType" id="musicType">soundcloud</div>
			</div>
			
			<div class="blockSize textContent">
				<div class="blockTitle">Font: </div><div class="blockTitle fontPick" style = "font-family: 'Noto Sans', sans-serif; ">Noto Sans</div>
				<div class="blockTitle fontPick" style="font-family: 'Lato', sans-serif;">Lato</div>
				<div class="blockTitle fontPick" style="font-family: 'Asset', cursive;">Asset</div>
				<div class="blockTitle fontPick"></div><div class="blockTitle fontPick" style="font-family: 'Poiret One', cursive;">Poiret One</div>
				<div class="blockTitle fontPick" style="font-family: 'Armata', sans-serif;">Armata</div>
				<div class="blockTitle fontPick" style="font-family: 'Arimo', sans-serif;">Arimo</div>
				<div class="blockTitle fontPick"></div><div class="blockTitle fontPick">font3</div>
				<div class="blockTitle fontPick" style="font-family: 'Emblema One', cursive;">Emblema One</div>
				<div class="blockTitle fontPick" style="font-family: 'Limelight', cursive;">Limelight</div>
				<div class="blockTitle fontPick"></div><div class="blockTitle fontPick" style="font-family: 'Vollkorn', serif;">Vollkorn</div>
				<div class="blockTitle fontPick" style="font-family: 'Merriweather Sans', sans-serif;">Merriweather Sans</div>
				<div class="blockTitle fontPick" style="font-family: 'Rock Salt', cursive;">Rock Salt</div>
			</div>
			<div class="blockSize textContent">
				<div class="blockTitle">Font-Size: </div><div class="blockTitle" style="width: 15%;">px: </div><input class="fontInput">
			</div>
			
			<div class="blockSize textContent"><div class="blockTitle">Font Color:  </div>
				<div class="colorSelect">
					<div class="colorBlockSmall" style="background-color: #000;"></div>
					<div class="colorBlockSmall" style="background-color: #404040;"></div>
					<div class="colorBlockSmall" style="background-color: #FF0000;"></div>
					<div class="colorBlockSmall" style="background-color: #FF6A00;"></div>
					<div class="colorBlockSmall" style="background-color: #FFD800;"></div>
					<div class="colorBlockSmall" style="background-color: #B6FF00;"></div>
					<div class="colorBlockSmall" style="background-color: #4CFF00;"></div>
					<div class="colorBlockSmall" style="background-color: #00FF21;"></div>
					<div class="colorBlockSmall" style="background-color: #00FF90;"></div>
					<div class="colorBlockSmall" style="background-color: #00FFFF;"></div>
					<div class="colorBlockSmall" style="background-color: #0094FF;"></div>
					<div class="colorBlockSmall" style="background-color: #0026FF;"></div>
					<div class="colorBlockSmall" style="background-color: #4800FF;"></div>
					<div class="colorBlockSmall" style="background-color: #B200FF;"></div>
					<div class="colorBlockSmall" style="background-color: #FF00DC;"></div>
					<div class="colorBlockSmall" style="background-color: #FF006E;"></div>
					<div class="colorBlockSmall" style="background-color: #fff;"></div>
					<div class="colorBlockSmall">X</div>
				</div>
			</div>
			<div class = "blockSize textContent">
				<div class="blockTitle">Enter Content:  </div>
				<textarea class="textContentInput"></textarea>
			</div>
			
			<div class = "blockSize videoContent">
				<div class="blockTitle">Embed Video Code:  </div>
				<input class="videoContentInput">
			</div>
			<div class = "blockSize imageContent">
				<div class="blockTitle">Image URL:  </div>
				<input class="imageContentInput">
			</div>
			<div class = "blockSize audioContent">
				<div class="blockTitle">Embed Audio Code:  </div>
				<input class="audioContentInput">
			</div>
			<div class = "blockSize facebookContent">
				<div class="blockTitle">Facebook Page Url:  </div>
				<input class="facebookContentInput"><div class="blockTitle addFB" style="background-color: #000;color:#fff;border-radius: 5px;">add album</div>
			</div>
			<div class = "blockSize twitterContent">
				<div class="blockTitle">Twitter Username:  </div>
				<input class="twitterContentInput">
			</div>
			
			</div>
			<div class="blockSize" style="font-size: 14px; font-weight: bold;margin-left: 15%; margin-top: 1%;">
				<div class="blockTitle">Block Name: </div><input class="blockNameInput" style="width:40%;">
			</div>
			
			
     	</div>
     	<div class="screenView addContent preBlock">Click to Add Block and Begin</div>
     	
     	
     	<div class="screenView addBG">
     		<div class="Block PostInfo">
     			
			<div class="blockSize"><div class="blockTitle">Bg Color:  </div>
				<div class="colorSelect">
					<div class="colorBG" style="background-color: #000;"></div>
					<div class="colorBG" style="background-color: #404040;"></div>
					<div class="colorBG" style="background-color: #FF0000;"></div>
					<div class="colorBG" style="background-color: #FF6A00;"></div>
					<div class="colorBG" style="background-color: #FFD800;"></div>
					<div class="colorBG" style="background-color: #B6FF00;"></div>
					<div class="colorBG" style="background-color: #4CFF00;"></div>
					<div class="colorBG" style="background-color: #00FF21;"></div>
					<div class="colorBG" style="background-color: #00FF90;"></div>
					<div class="colorBG" style="background-color: #00FFFF;"></div>
					<div class="colorBG" style="background-color: #0094FF;"></div>
					<div class="colorBG" style="background-color: #0026FF;"></div>
					<div class="colorBG" style="background-color: #4800FF;"></div>
					<div class="colorBG" style="background-color: #B200FF;"></div>
					<div class="colorBG" style="background-color: #FF00DC;"></div>
					<div class="colorBG" style="background-color: #FF006E;"></div>
					<div class="colorBG" style="background-color: #fff;"></div>
					<div class="colorBG">X</div>
				</div>
			</div>
			<div class="blockSize">
				<div class="blockTitle">BG Image: </div><div class="blockTitle" style="width: 15%;">url: </div><input class="bgImageInput">
			</div>
			<div class="blockSize">
				<div class="blockTitle">BG Image Style: </div>
				<div class="blockTitle bgStyle" id="fixedBG">fixed</div><div class="blockTitle bgStyle" id="repeatBG">repeat</div>
				<div class="blockTitle bgStyle" id="noneBG">none</div>
			</div>
			<div class="blockSize">
				<div class="blockTitle">Grid: </div><div class="blockTitle grid" style="background-color: #000;color:#fff;border-radius: 5px;">No</div>
				<div class="blockTitle" style="width: 15%;">Size</div><input class="gridInput">
			</div>

			</div>	
     	</div>
     	
     	<div class="screenView addDetails">
     		<div class="PostInfo">
     			<input type="text" name="customerName" id="customerName" placeholder="Enter Name Here ..." style="float:left; width: 90%; height:10%;">
     			<input type="text" name="customerEmail" id="customerEmail" placeholder="Enter Email Here ..." style="float:left; width: 90%; height:10%;">
				<input type="text" name="customerContact" id="customerContact" placeholder="Enter Contact Number Here ..." style="float:left; width: 90%; height:10%;">
			</div>
			
			<div class="paypal">
				<SCRIPT language=JavaScript>

				
				function checkCheckBox(f){
				if (f.agree.checked == false )
				{
				alert('Please check the box to continue.');
				return false;
				}else
				return true;
				}
				//-->
				</SCRIPT>
				<form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top" onsubmit="return checkCheckBox(this)">
					<div style= "font-size: 10px; color: #000;"><br>Agree to Terms and Conditions<input type="checkbox" value="0" name="agree"></div>
				
				<input name="custom" type="hidden" id="customMSG">
				
				<input type="hidden" name="cmd" value="_s-xclick">
				<input type="hidden" name="hosted_button_id" value="YD3UNJ3LGZ75N">
				<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_subscribeCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
				<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
				
				</form>
			</div>
     	</div>
     	
     	<div class="screenView selectColor">
     		<div class="colorHeading"><br>Choose Color</div>
     		<div class="colorHolder">
	     		<div class="colorBlock" id="cb1"></div>
	     		<div class="colorBlock" id="cb2" style="background-image: url(./colors/2.png);"></div>
	     		<div class="colorBlock" id="cb3" style="background-image: url(./colors/3.png);"></div>
	     		<div class="colorBlock" id="cb4" style="background-image: url(./colors/4.png);"></div>
	     		<div class="colorBlock" id="cb5" style="background-image: url(./colors/5.png);"></div>
	     		<div class="colorBlock" id="cb6" style="background-image: url(./colors/6.png);"></div>
     		</div>
     	</div>
     	
     	
     	<div class="screenView previewSite">
     		<div class="previewContainer">
     			<iframe id="prev" src="./templates/blankTemplate/index.html" width="100%" height="100%"></iframe>
     		</div>
     		<div class="fullScreen">fullscreen</div>
     	</div>
     	
     	<!--
     	<div class="timeline">
     		<div class="timelineBlock" id="chooseTemplate">Choose Template</div>
     		<div class="timelineBlock" id="uploadContent">Upload Content</div>
     		<div class="timelineBlock" id="goLive">Go Live!</div>     		
     	</div>
     	<div class="progressLine"></div>
     	-->

</body>
<script type="text/javascript">
	
	var apiKey = "210595K4hzz6";
	var apiSecret = "hhLtwdjCeBSw5mclvaqKW8oEpKF3Z2JM";

	//Create a gamesparks object to be used
	var gamesparks = new GameSparks();
	
	//Initialse the SDK
	function init(){
		gamesparks.initPreview({
			key:apiKey, 
			onNonce: onNonce,
			onInit:onInit,
			onMessage:onMessage,
		});
	}

	//Callback function to hmac sha256 a nonce with the secret. It's assumed you will have your own method of securing the secret;
	function onNonce(nonce){
		return CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(nonce, apiSecret));
	}
	
	//Callback to handle when the SDK is initialised and ready to go
	function onInit(){
		console.log("Initialised");
		if ($('.signUpBG').is(':visible')){
			$('.signUp').show();
		}
		else{
			if ((Control.lIn["u"])&&(Control.lIn["p"])){
				gsAPI.Login(Control.lIn["u"], Control.lIn["p"]);
	 		}
		}
	}
	
	//Callback to handle async messages from the gamesparks platform
	function onMessage(message){
		console.log("onMessage " + message);
	}
	
	//Response handler examples
	function registerResponse(response){
		console.log(JSON.stringify(response));
	}
	
	function loginResponse(response){
		console.log(JSON.stringify(response));
	}
	
	function accountDetailsResponse(response){
		console.log(JSON.stringify(response));
	}

	function LoginEvent(){

		gamesparks.sendWithData(
			"LogEventRequest", 
	    	{
	        	eventKey : "FIRST_EVENT",
	        	NUMBER_ATTR : 123,
	        	STRING_ATTR : "this is a string",
	        	JSON_ATTR : {key1 : 12, key2 : "abc"}
	    	}, 
	    	function(response){console.log(JSON.stringify(response));}
		);

	}
	
	
</script>
</html>